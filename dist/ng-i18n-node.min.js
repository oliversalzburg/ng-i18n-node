!function(){"use strict";var a=angular.module("ng-i18n-node",[]);a.factory("httpInterceptor",["$log","$q",function(a,b){var c={request:function(c){if(c.url.match(/^\/i18n\//)){a.debug("Intercepting /i18n/ request..."),c.i18nRequest=!0;var d=c.url.match(/^\/i18n\/\w+\/\w+/);if(d){var e=/^\/i18n\/\w+\/([^\/]+)/.exec(c.url),f=e[1],g=decodeURIComponent(f);return c.i18nLiteral=g,b.reject(c)}var h=/^\/i18n\/([^\/]+)/.exec(c.url),i=h[1];return c.url="i18n/"+i+".json",c.config=c,c}return c},responseError:function(b){if(b.i18nRequest){a.debug("Handling rejected /i18n/ interception...");var d="",e=b.url.match(/^\/i18n\/\w+\/\w+/);if(e){var f=/^\/i18n\/\w+\/([^\/]+)/.exec(b.url),g=f[1],h=decodeURIComponent(g);d=h,c.untranslated=c.untranslated||{},c.untranslated[h]=h,c.flushUntranslated(),a.warn("UNTRANSLATED LITERAL",h)}else d={};return{data:d,status:200,headers:null,config:b.config,statusText:"OK"}}return b},flushUntranslated:function(){a.info(JSON.stringify(c.untranslated))}};return c}]),a.config(["$httpProvider",function(a){a.interceptors.push("httpInterceptor")}])}();