!function(){"use strict";var a=angular.module("ng-i18n-node",[]);a.factory("httpInterceptor",["$log","$q",function(a,b){a.debug("$log is here to show you that this is a regular factory with injection");var c={request:function(c){if(c.url.match(/^\/i18n\//)){a.info("Intercepting /i18n/ request..."),c.i18nRequest=!0;var d=c.url.match(/^\/i18n\/\w+\/\w+/);if(d){var e=/^\/i18n\/\w+\/([^\/]+)/.exec(c.url),f=e[1],g=decodeURIComponent(f);return c.i18nLiteral=g,b.reject(c)}var h=/^\/i18n\/([^\/]+)/.exec(c.url),i=h[1];return c.url="i18n/"+i+".json",c.config=c,a.debug(c),c}return c},responseError:function(c){if(c.i18nRequest){a.info("Handling rejected /i18n/ interception..."),a.debug(c);var d="",e=c.url.match(/^\/i18n\/\w+\/\w+/);if(e){var f=/^\/i18n\/\w+\/([^\/]+)/.exec(c.url),g=f[1],h=decodeURIComponent(g);d=h}else d={};return{data:d,status:200,headers:null,config:c.config,statusText:"OK"}}return b.reject(c)}};return c}]),a.config(["$httpProvider",function(a){a.interceptors.push("httpInterceptor")}])}();